(()=>{var e={42:(e,n)=>{var t;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var s={}.hasOwnProperty;function o(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var r=typeof t;if("string"===r||"number"===r)e.push(t);else if(Array.isArray(t)){if(t.length){var i=o.apply(null,t);i&&e.push(i)}}else if("object"===r)if(t.toString===Object.prototype.toString)for(var a in t)s.call(t,a)&&t[a]&&e.push(a);else e.push(t.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(t=function(){return o}.apply(n,[]))||(e.exports=t)}()},8750:(e,n,t)=>{"use strict";const s=window.wp.data,o=window.wp.hooks,r=window.wp.domReady;var i=t.n(r);const a=window.wp.plugins;function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,s)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){c(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function m(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,s=new Array(n);t<n;t++)s[t]=e[t];return s}function d(e,n){if(e){if("string"==typeof e)return m(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?m(e,n):void 0}}function p(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],_n=!0,s=!1,o=void 0;try{for(var r,i=e[Symbol.iterator]();!(_n=(r=i.next()).done)&&(t.push(r.value),!n||t.length!==n);_n=!0);}catch(a){s=!0,o=a}finally{try{_n||null==i.return||i.return()}finally{if(s)throw o}}return t}}(e,n)||d(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const g=window.wp.i18n;const f=function(e){var n=e.subscribeListener,t=void 0===n?function(){}:n,o=e.onSetDirty,r=void 0===o?function(){}:o,i=e.onSaveStart,a=void 0===i?function(){}:i,c=e.onSave,l=void 0===c?function(){}:c,u=(0,s.select)("core/editor"),m=!1,d=!1;return(0,s.subscribe)((function(){t();var e=u.isEditedPostDirty(),n=u.isSavingPost()&&!u.isAutosavingPost();!d&&e?(d=!0,r()):d=e,m&&!n?(m=n,l()):!m&&n?(m=n,a()):m=n}))};var __=g.__,v={course:{outline:"sensei-lms/course-outline",takeCourse:"sensei-lms/button-take-course",contactTeacher:"sensei-lms/button-contact-teacher",courseProgress:"sensei-lms/course-progress",viewResults:"sensei-lms/button-view-results"},lesson:{lessonActions:"sensei-lms/lesson-actions",lessonProperties:"sensei-lms/lesson-properties",contactTeacher:"sensei-lms/button-contact-teacher"}},b={course:{"meta-box-course-lessons":[v.course.outline],"meta-box-module_course_mb":[v.course.outline],"meta-box-course-video":Object.values(v.course)},lesson:{"meta-box-lesson-info":[v.lesson.lessonProperties]}},h=(0,s.select)("core/block-editor"),_=(0,s.select)("core/editor"),w=(0,s.select)("core/edit-post"),y=(0,s.dispatch)("core/edit-post");const E=window.wp.element;function S(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=d(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,r=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw r}}}}const P=window.wp.editPost,k=window.wp.components,O=window.wp.coreData;const C=function(e){var n=p((0,O.useEntityProp)("postType","course","meta"),2),t=n[0],s=n[1];return[t[e],function(n){return s(c({},e,n))}]};var N="sensei-theme";const x=JSON.parse('{"name":"sensei-lms/course-outline"}'),j=JSON.parse('{"name":"sensei-lms/course-outline-module"}'),A=JSON.parse('{"name":"sensei-lms/course-outline-lesson"}'),L=(window.wp.blocks,window.lodash);var F={module:"sensei-lms/course-outline-module",lesson:"sensei-lms/course-outline-lesson"},B=((0,L.invert)(F),function e(n,t){for(var s=0;s<t.length;s++){var o=t[s];if(n===o.name)return o;if(o.innerBlocks&&o.innerBlocks.length>0){var r=e(n,o.innerBlocks);if(r)return r}}return!1}),D=g.__,T=x.name,q=j.name,I=A.name,M=function(e){return e.name===I&&e.attributes.id};const U=function(){var e,n,t=(null===(e=window.sensei)||void 0===e||null===(n=e.senseiSettings)||void 0===n?void 0:n.sensei_learning_mode_all)||!1,o=p(C("_course_theme"),2),r=o[0],i=o[1],a=function(){var e,n,t=(0,s.useSelect)((function(e){return e("core/editor").getCurrentPost()})),o=(null===(e=window.sensei)||void 0===e||null===(n=e.senseiSettings)||void 0===n?void 0:n.sensei_learning_mode_all)||!1,r=(0,s.useSelect)((function(e){var n=e("core/block-editor"),t=n.getBlocks,s=n.getBlockAttributes,o=t(),r=B(T,o);if(!r)return{};var i,a=S(t(r.clientId));try{for(a.s();!(i=a.n()).done;){var c=i.value;if(M(c))return s(c.clientId);if(c.name===q){var l,u=S(t(c.clientId));try{for(u.s();!(l=u.n()).done;){var m=l.value;if(M(m))return s(m.clientId)}}catch(d){u.e(d)}finally{u.f()}}}}catch(d){a.e(d)}finally{a.f()}return{}})),i="";null!=r&&r.id&&null!=t&&t.id&&(i=r.draft||!o&&t.meta._course_theme!==N?"/?p=".concat(r.id,"&learn=1&").concat("sensei_theme_preview","=").concat(t.id):"/?p=".concat(r.id),r.draft&&(i="".concat(i,"&post_type=lesson")));var a="";return i&&(a="/wp-admin/customize.php?autofocus[section]=sensei-course-theme&url=".concat(encodeURIComponent(i))),{previewUrl:i,customizerUrl:a}}(),c=a.previewUrl,l=a.customizerUrl;return(0,E.createElement)(P.PluginDocumentSettingPanel,{name:"sensei-course-theme",title:(0,E.createElement)(E.Fragment,null,D("Learning Mode","sensei-lms"),(0,E.createElement)("span",{className:"sensei-badge sensei-badge--success sensei-badge--after-text"},D("New!","sensei-lms")))},t?(0,E.createElement)("p",null,(0,E.createElement)("a",{href:"/wp-admin/admin.php?page=sensei-settings#course-settings"},D("Learning Mode is enabled globally.","sensei-lms"))):(0,E.createElement)(k.ToggleControl,{label:D("Enable Learning Mode","sensei-lms"),help:D("Show an immersive and distraction-free view for lessons and quizzes.","sensei-lms"),checked:r===N,onChange:function(e){return i(e?N:"wordpress-theme")}}),c&&(0,E.createElement)("p",null,(0,E.createElement)("a",{href:c,target:"_blank",rel:"noopener noreferrer"},D("Preview","sensei-lms"))),l&&(0,E.createElement)("p",null,(0,E.createElement)("a",{href:l},D("Customize","sensei-lms"))))};var z=t(42),R=t.n(z);g.__;function G(e){var n=e.className,t=e.contentLabel,s=e.onFinish,o=e.pages,r=void 0===o?[]:o,i=p((0,E.useState)(0),2),a=i[0],c=i[1],l=a>0,u=a<r.length-1;return 0===r.length?null:(0,E.createElement)(k.Modal,{className:R()("components-guide",n),contentLabel:t,onRequestClose:s},(0,E.createElement)("div",{className:"components-guide__container"},(0,E.createElement)("div",{className:"components-guide__page"},r[a].image,r[a].content),(0,E.createElement)("div",{className:"components-guide__footer"},r[a].footer({canGoBack:l,canGoForward:u,goBack:function(){l&&c(a-1)},goForward:function(){u&&c(a+1)},onFinish:s}))))}var H=g.__,W="".concat(window.sensei.pluginUrl,"assets/dist/images"),J="senseiCourseThemeOnboardingCompleted",V="sensei-course-theme-plugin/sensei-course-theme",Y=function(){var e=(0,s.useSelect)((function(e){return{onboardingCompleted:e("core/edit-post").isFeatureActive(J)}})).onboardingCompleted,n=function(e){var n=p((0,E.useState)(),2),t=n[0],s=n[1];return(0,E.useEffect)((function(){if(e){setTimeout((function(){s(document.body.classList.contains("modal-open"))}),1);var n=new window.MutationObserver((function(){s(document.body.classList.contains("modal-open"))}));return n.observe(document.body,{attributes:!0,attributeFilter:["class"]}),function(){n.disconnect()}}}),[e]),t}(!e),t=p((0,E.useState)(!1),2),o=t[0],r=t[1];return(0,E.useLayoutEffect)((function(){e?r(!1):!1===n&&r(!0)}),[e,n]),o};const Q=function(){var e=(0,s.useDispatch)("core/edit-post"),n=e.toggleFeature,t=e.toggleEditorPanelOpened,o=(0,s.useDispatch)("core/editor").savePost,r=(0,s.useSelect)((function(e){return{isCourseThemePanelOpen:e("core/edit-post").isEditorPanelOpened(V)}})).isCourseThemePanelOpen,i=Y(),a=p(C("_course_theme"),2)[1];return i?(0,E.createElement)(G,{className:"sensei-course-theme-onboarding",contentLabel:H("New learning experience!","sensei-lms"),onFinish:function(){n(J)},pages:[{image:(0,E.createElement)("div",{className:"sensei-course-theme-onboarding__image-container"},(0,E.createElement)("img",{src:"".concat(W,"/onboarding-learning-mode.jpg"),alt:H("Learning mode sample.","sensei-lms")})),content:(0,E.createElement)(E.Fragment,null,(0,E.createElement)("h1",{className:"sensei-course-theme-onboarding__heading"},H("New! Distraction-free learning experience","sensei-lms")),(0,E.createElement)("p",{className:"sensei-course-theme-onboarding__text"},H("Enable Sensei’s ‘learning mode’ to show an immersive and dedicated view for courses, lessons, and quizzes.","sensei-lms"))),footer:function(e){var n=e.goForward;return(0,E.createElement)(E.Fragment,null,(0,E.createElement)("a",{className:"sensei-course-theme-onboarding__learn-more components-button components-guide__back-button",href:"https://senseilms.com/wordpress-course-theme",rel:"noreferrer external",target:"_blank"},H("Learn more","sensei-lms")),(0,E.createElement)(k.Button,{className:"components-guide__forward-button",onClick:function(){r||t(V),a(N),o(),n()}},H("Enable learning mode","sensei-lms")))}},{image:(0,E.createElement)("div",{className:"sensei-course-theme-onboarding__image-container"},(0,E.createElement)("img",{src:"".concat(W,"/onboarding-learning-mode-check.jpg"),alt:H("Learning mode sample with check icon.","sensei-lms")})),content:(0,E.createElement)(E.Fragment,null,(0,E.createElement)("h1",{className:"sensei-course-theme-onboarding__heading"},H("We’ve enabled learning mode for this course!","sensei-lms")),(0,E.createElement)("p",{className:"sensei-course-theme-onboarding__text"},H("For more options you can access the ‘course styles’ setting in the course sidebar.","sensei-lms"))),footer:function(e){var n=e.onFinish;return(0,E.createElement)(k.Button,{className:"components-guide__forward-button",onClick:n},H("Sounds good","sensei-lms"))}}]}):null};const $=function(){return(0,E.createElement)(E.Fragment,null,(0,E.createElement)(U,null),(0,E.createElement)(Q,null))};var K=g.__;const X=function(){var e=p(C("sensei_course_video_autocomplete"),2),n=e[0],t=e[1],s=p(C("sensei_course_video_autopause"),2),o=s[0],r=s[1],i=p(C("sensei_course_video_required"),2),a=i[0],c=i[1];return(0,E.createElement)(P.PluginDocumentSettingPanel,{name:"sensei-course-video",title:K("Video","sensei-lms")},(0,E.createElement)(k.ToggleControl,{label:K("Autocomplete Lesson","sensei-lms"),checked:n,onChange:t,help:K("Complete lesson when video ends.","sensei-lms")}),(0,E.createElement)(k.ToggleControl,{label:K("Autopause","sensei-lms"),checked:o,onChange:r,help:K("Pause video when student navigates away.","sensei-lms")}),(0,E.createElement)(k.ToggleControl,{label:K("Required","sensei-lms"),checked:a,onChange:c,help:K("Video must be viewed before completing the lesson.","sensei-lms")}))},Z=window.wp.escapeHtml;var ee=g.__;const ne=function(){var e=(0,o.applyFilters)("senseiCoursePricingDescription",ee("Sell this course using WooCommerce - integrates with subscriptions, memberships, affiliates, and more.","sensei-lms"));return(0,E.createElement)(P.PluginDocumentSettingPanel,{name:"sensei-course-pricing-promo",title:ee("Pricing ","sensei-lms")},(0,E.createElement)("p",null," ",(0,Z.escapeHTML)(e)," "),(0,E.createElement)("p",null,(0,E.createElement)(k.ExternalLink,{href:"https://senseilms.com/pricing/?utm_source=plugin_sensei&utm_medium=upsell&utm_campaign=course_pricing"},ee("Upgrade to Sensei Pro","sensei-lms"))),(0,E.createElement)("p",{className:"sensei-pricing-promo__upgrade-new-course-text"},ee("To access this course, learners will need to purchase one of the assigned products.","sensei-lms")),(0,E.createElement)("div",{className:"sensei-pricing-promo__upgrade-new-course"},(0,E.createElement)("p",{className:"sensei-pricing-promo__upgrade-new-course-text"},ee("You don't have any products yet. Get started by creating a new WooCommerce product.","sensei-lms")),(0,E.createElement)(k.Button,{className:"sensei-pricing-promo__upgrade_new_course_mock_button",disabled:!0},ee("Create a product","sensei-lms"))))};var te=g.__;const se=function(){return(0,E.createElement)(P.PluginDocumentSettingPanel,{name:"sensei-course-access-period-promo",title:te("Access Period","sensei-lms")},(0,E.createElement)("div",{className:"sensei-course-access-period-promo"},(0,E.createElement)("p",null,(0,E.createElement)(k.ExternalLink,{href:"https://senseilms.com/pricing/?utm_source=plugin_sensei&utm_medium=upsell&utm_campaign=course_access_period"},te("Upgrade to Sensei Pro","sensei-lms"))),(0,E.createElement)("div",{className:"sensei-course-access-period-promo__holder"},(0,E.createElement)("p",null,te("Set how long learners will have access to this course.","sensei-lms")),(0,E.createElement)(k.SelectControl,{label:te("Expiration","sensei-lms"),options:[{label:te("No expiration","sensei-lms")},{label:te("Expires after","sensei-lms")}]}))))};!function(){var e=(0,s.select)("core/edit-post"),n=document.getElementsByName("sensei-course-teacher-author");if(e&&n.length){var t=!1;(0,s.subscribe)((function(){if(e.isSavingMetaBoxes()!==t&&!(t=e.isSavingMetaBoxes())){var s=n[0].value;s&&(document.getElementsByName("post_author_override")[0].value=s)}}))}}(),i()((function(){var e,n;!function(e){if(h){var n,t,o,r=(0,s.dispatch)("core/notices"),i=r.createWarningNotice,a=r.removeNotice;f({subscribeListener:function(){var e=h.getBlocks();e!==o&&(o=e,l(),t=c(),void 0!==n&&m())},onSetDirty:function(){var e;_.isEditedPostDirty()&&void 0===n&&(n=(null===(e=_.getCurrentPostAttribute("meta"))||void 0===e?void 0:e._needs_template)||t)},onSave:function(){n=c(),m()}});var c=function(){return d(Object.values(v[e]))},l=function(){Object.entries(b[e]).forEach((function(e){var n=p(e,2),t=n[0],s=n[1];!d(s)!==w.isEditorPanelEnabled(t)&&y.toggleEditorPanelEnabled(t)})),document.querySelectorAll("#module_course_mb input").forEach((function(e){e.disabled=!w.isEditorPanelEnabled("meta-box-module_course_mb")})),document.querySelectorAll("#lesson-info input, #lesson-info select").forEach((function(e){e.disabled=!w.isEditorPanelEnabled("meta-box-lesson-info")}))},m=function(){var e=c(),t={isDismissible:!0,actions:[{label:__("Learn more","sensei-lms"),url:"https://senseilms.com/documentation/course-page-blocks/"}]};if(e)if(a("sensei-using-template"),n)a("sensei-using-blocks");else{var s=__("You've just added your first Sensei block. This will change how your course page appears. Be sure to preview your page before saving changes.","sensei-lms");i(s,u({id:"sensei-using-blocks"},t))}else if(a("sensei-using-blocks"),n){var o=__("Are you sure you want to remove all Sensei blocks? This will change how your course page appears. Be sure to preview your page before saving changes.","sensei-lms");i(o,u({id:"sensei-using-template"},t))}else a("sensei-using-template")},d=function(e){return e.some((function(e){return h.getGlobalBlockCount(e)>0}))}}}("course"),jQuery("#course-prerequisite-options").select2({width:"100%"});var t=function(e){return function(n){var t={course_status:n.target.dataset.courseStatus};wp.data&&wp.data.select("core/editor")&&(t.course_status=wp.data.select("core/editor").getCurrentPostAttribute("status")),sensei_log_event(e,t)}};null===(e=document.querySelector("a.add-course-lesson"))||void 0===e||e.addEventListener("click",t("course_add_lesson_click")),null===(n=document.querySelector("a.edit-lesson-action"))||void 0===n||n.addEventListener("click",t("course_edit_lesson_click"))})),(0,o.applyFilters)("senseiCoursePricingHide",!1)||(0,a.registerPlugin)("sensei-course-pricing-promo-sidebar",{render:ne,icon:null}),(0,o.applyFilters)("senseiCourseAccessPeriodHide",!1)||(0,a.registerPlugin)("sensei-course-access-period-promo-plugin",{render:se,icon:null}),(0,a.registerPlugin)("sensei-course-theme-plugin",{render:$,icon:null}),(0,a.registerPlugin)("sensei-course-video-progression-plugin",{render:X,icon:null})}},n={};function t(s){var o=n[s];if(void 0!==o)return o.exports;var r=n[s]={exports:{}};return e[s](r,r.exports,t),r.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var s in n)t.o(n,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);t(8750)})();