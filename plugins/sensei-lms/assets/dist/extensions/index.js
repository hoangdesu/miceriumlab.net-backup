(()=>{var e={42:(e,n)=>{var t;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var s={}.hasOwnProperty;function r(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var i=typeof t;if("string"===i||"number"===i)e.push(t);else if(Array.isArray(t)){if(t.length){var o=r.apply(null,t);o&&e.push(o)}}else if("object"===i)if(t.toString===Object.prototype.toString)for(var a in t)s.call(t,a)&&t[a]&&e.push(a);else e.push(t.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(t=function(){return r}.apply(n,[]))||(e.exports=t)}()}},n={};function t(s){var r=n[s];if(void 0!==r)return r.exports;var i=n[s]={exports:{}};return e[s](i,i.exports,t),i.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var s in n)t.o(n,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{"use strict";const e=window.wp.element,n=window.wp.components,s=window.wp.i18n,r=window.wp.data,i=window.wp.editor,o=window.wp.hooks;function a(){return a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},a.apply(this,arguments)}var c=t(42),l=t.n(c),__=s.__;const u=function(n){var t=n.title,r=n.description,i=n.features,o=n.badgeLabel,c=n.excerpt,u=n.image,m=n.price,d=n.buttonLink,p=n.htmlProps,_=u&&"url(".concat(u,")"),f=(0,s.sprintf)(__("Get %s","sensei-lms"),t);return(0,e.createElement)("article",a({},p,{className:l()("sensei-extensions__featured-product",null==p?void 0:p.className)}),(0,e.createElement)("section",{className:"sensei-extensions__featured-product__column"},(0,e.createElement)("div",{className:"sensei-extensions__featured-product__content"},(0,e.createElement)("header",{className:"sensei-extensions__featured-product__header"},(0,e.createElement)("h2",{className:"sensei-extensions__featured-product__title"},f),o&&(0,e.createElement)("small",{className:"sensei-extensions__featured-product__badge"},o)),(0,e.createElement)("div",{className:"sensei-extensions__featured-product__description"},(0,e.createElement)("p",null,r),i&&(0,e.createElement)("ul",null,i.map((function(n,t){return(0,e.createElement)("li",{key:t},n)})))))),(0,e.createElement)("section",{className:"sensei-extensions__featured-product__column",style:{backgroundImage:_}},(0,e.createElement)("div",{className:"sensei-extensions__featured-product__card"},(0,e.createElement)("h2",{className:"sensei-extensions__featured-product__card__title"},t),(0,e.createElement)("p",{className:"sensei-extensions__featured-product__card__description"},c),(0,e.createElement)("div",{className:"sensei-extensions__featured-product__card__price"},m),(0,e.createElement)("a",{href:d,target:"_blank",rel:"noreferrer external",className:l()("sensei-extensions__featured-product__card__button","components-button","is-primary","is-large")},f))))};function m(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,s=new Array(n);t<n;t++)s[t]=e[t];return s}function d(e,n){if(e){if("string"==typeof e)return m(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?m(e,n):void 0}}function p(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,s)}return t}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){_(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const v=window.lodash,x=window.wp.dataControls;var g=function(e,n){window.sensei_log_event(e,n)};g.enable=function(e){window.sensei_event_logging.enabled=e};const h=window.wp.url,y=window.wp.apiFetch;var b;t.n(y)().use((b={},function(e,n){return"string"!=typeof e.path||"GET"!==e.method&&e.method||(b[e.path]?e.path=(0,h.addQueryArgs)(e.path,{__skip_preload:1}):b[e.path]=!0),n(e)}));var w,S,N=s.__,O={IN_PROGRESS:"in-progress",IN_QUEUE:"in-queue"},k="sensei/extensions",T=function(e){return[O.IN_PROGRESS,O.IN_QUEUE].includes(e)},P={setExtensions:function(e){return{type:"SET_EXTENSIONS",extensionSlugs:e}},setEntities:function(e){return{type:"SET_ENTITIES",entities:e}},setConnectionStatus:function(e){return{type:"SET_CONNECTION_STATUS",connected:e}},installExtension:regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g("extensions_install",{slug:n}),e.next=3,P.runProcess({slugs:[n],actionType:"install"});case 3:case"end":return e.stop()}}),e)})),updateExtensions:regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.map((function(e){return g("extensions_update",{slug:e})})),e.next=3,P.runProcess({slugs:n,actionType:"update"});case 3:case"end":return e.stop()}}),e)})),runProcess:regeneratorRuntime.mark((function e(n){var t,i,o,a,c,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.slugs,i=n.actionType,e.next=3,(0,r.select)(k).getExtensionsByStatus(O.IN_PROGRESS);case 3:if(!(e.sent.length>0)){e.next=8;break}return e.next=7,P.addToQueue(n);case 7:return e.abrupt("return");case 8:return e.next=10,P.setExtensionsStatus(t,O.IN_PROGRESS);case 10:return"update"===i?(o={plugins:t},a=N("Update completed successfully!","sensei-lms"),c=N("There was an error while updating the plugin: %1$s","sensei-lms")):(o={plugin:t[0]},a=N("Installation completed successfully!","sensei-lms"),c=N("There was an error while installing the plugin: %1$s","sensei-lms")),e.prev=11,e.next=14,(0,x.apiFetch)({path:"/sensei-internal/v1/sensei-extensions/".concat(i),method:"POST",data:o});case 14:return l=e.sent,e.next=17,P.setError(null);case 17:return e.next=19,P.setEntities({extensions:(0,v.keyBy)(l.completed,"product_slug")});case 19:return e.next=21,(0,r.dispatch)("core/notices").createNotice("success",a,{type:"snackbar"});case 21:e.next=27;break;case 23:return e.prev=23,e.t0=e.catch(11),e.next=27,P.setError((0,s.sprintf)(c,e.t0.message));case 27:return e.prev=27,e.next=30,P.setExtensionsStatus(t,"");case 30:return e.next=32,P.removeFromQueue(n);case 32:return e.next=34,(0,r.select)(k).getNextProcess();case 34:if(!(u=e.sent)){e.next=38;break}return e.next=38,P.runProcess(u);case 38:return e.finish(27);case 39:case"end":return e.stop()}}),e,null,[[11,23,27,39]])})),setExtensionsStatus:function(e,n){return{type:"SET_EXTENSIONS_STATUS",slugs:e,status:n}},setLayout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"SET_LAYOUT",layout:e}},setWccom:function(e){return{type:"SET_WCCOM",wccom:e}},addToQueue:regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.setExtensionsStatus(n.slugs,O.IN_QUEUE);case 2:return e.abrupt("return",{type:"ADD_TO_QUEUE",process:n});case 3:case"end":return e.stop()}}),e)})),removeFromQueue:function(e){return{type:"REMOVE_FROM_QUEUE",process:e}},setError:function(e){return{type:"SET_ERROR",error:e}}},R={getExtensions:function(e){var n=e.extensionSlugs,t=e.entities;return n.map((function(e){return t.extensions[e]}))},getExtensionsByStatus:function(e,n){return R.getExtensions(e).filter((function(e){return n===e.status}))},getEntities:function(e,n){return e.entities[n]},getConnectionStatus:function(e){return e.connected},getLayout:function(e){return e.layout},getNextProcess:function(e){return e.queue[0]||null},getWccomData:function(e){return e.wccom},getError:function(e){return e.error}},U={getExtensions:regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.apiFetch)({path:"/sensei-internal/v1/sensei-extensions?type=plugin"});case 2:return n=e.sent,e.next=5,P.setLayout(n.layout);case 5:return e.next=7,P.setWccom(n.wccom);case 7:return e.next=9,P.setEntities({extensions:(0,v.keyBy)(n.extensions,"product_slug")});case 9:return e.next=11,P.setExtensions(n.extensions.map((function(e){return e.product_slug})));case 11:return e.next=13,P.setConnectionStatus(n.wccom_connected);case 13:case"end":return e.stop()}}),e)}))},C={SET_EXTENSIONS:function(e,n){var t=e.extensionSlugs;return E(E({},n),{},{extensionSlugs:t})},SET_EXTENSIONS_STATUS:function(e,n){var t=e.slugs,s=e.status;return E(E({},n),{},{entities:E(E({},n.entities),{},{extensions:Object.keys(n.entities.extensions).reduce((function(e,r){return E(E({},e),{},_({},r,E(E({},n.entities.extensions[r]),{},{status:t.includes(r)?s:n.entities.extensions[r].status})))}),{})})})},SET_CONNECTION_STATUS:function(e,n){var t=e.connected;return E(E({},n),{},{connected:t})},SET_LAYOUT:function(e,n){var t=e.layout;return E(E({},n),{},{layout:t})},SET_ENTITIES:function(e,n){var t=e.entities;return E(E({},n),{},{entities:(0,v.merge)({},n.entities,t)})},SET_WCCOM:function(e,n){var t=e.wccom;return E(E({},n),{},{wccom:t})},ADD_TO_QUEUE:function(e,n){var t=e.process;return E(E({},n),{},{queue:[].concat(p(n.queue),[t])})},REMOVE_FROM_QUEUE:function(e,n){var t=e.process;return E(E({},n),{},{queue:n.queue.filter((function(e){return!(0,v.isEqual)(e,t)}))})},SET_ERROR:function(e,n){var t=e.error;return E(E({},n),{},{error:t})},DEFAULT:function(e,n){return n}};(0,r.registerStore)(k,{reducer:(w=C,S={extensionSlugs:[],entities:{extensions:{}},connected:!1,layout:[],queue:[],wccom:{},error:null},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,n=arguments.length>1?arguments[1]:void 0,t=w[n.type]||w.DEFAULT;return t(n,e)}),actions:P,selectors:R,resolvers:U,controls:x.controls});var j=s.__;const I=function(){var n=(0,r.useSelect)((function(e){return{extensions:e(k).getExtensions()}})).extensions.find((function(e){return"sensei-pro"===e.product_slug}));return n&&!0!==n.is_installed?(0,e.createElement)(u,{title:n.title,excerpt:n.excerpt,description:j("By upgrading to Sensei Pro, you get all the great features found in Sensei LMS plus:","sensei-lms"),features:[j("WooCommerce integration","sensei-lms"),j("Schedule ‘drip’ content","sensei-lms"),j("Set expiration date of courses","sensei-lms"),j("Advanced quiz features","sensei-lms"),j("Interactive learning blocks (coming soon)","sensei-lms"),j("Premium support","sensei-lms")],image:n.image_large,badgeLabel:j("new","sensei-lms"),price:(0,s.sprintf)(j("%s USD / year (1 site)","sensei-lms"),n.price),buttonLink:(0,s.sprintf)("https://senseilms.com/checkout?add-to-cart=%d&utm_source=plugin_sensei&utm_medium=upsell&utm_campaign=extensions_header",n.wccom_product_id)}):(0,e.createElement)(e.Fragment,null)};var L=s.__;const A=function(){return(0,e.createElement)("header",null,(0,e.createElement)("h1",{className:"wp-heading-inline"},L("Sensei LMS Extensions","sensei-lms")))};function F(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],_n=!0,s=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(_n=(i=o.next()).done)&&(t.push(i.value),!n||t.length!==n);_n=!0);}catch(a){s=!0,r=a}finally{try{_n||null==o.return||o.return()}finally{if(s)throw r}}return t}}(e,n)||d(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const D=function(n,t,s){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window,i=(0,e.useCallback)(t,s);(0,e.useEffect)((function(){var e=[n,i,!1];return r.addEventListener.apply(r,e),function(){r.removeEventListener.apply(r,e)}}),[n,i,r])};var M=function(e){return new URLSearchParams(window.location.search).get(e)||null},W=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=window.location.search,r=t?"replaceState":"pushState",i=new URLSearchParams(s);null===n?i.delete(e):i.set(e,n),window.history[r]({},"","?".concat(i.toString()))};const Q=function(e){var n=e.route,t=e.children;return G().currentRoute===n?t:null};var q=(0,e.createContext)();const B=function(n){var t=n.paramName,s=n.defaultRoute,r=n.children,i=F((0,e.useState)(M(t)),2),o=i[0],a=i[1],c=(0,e.useMemo)((function(){var e=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];W(t,e,n),a(e)};return o||e(s,!0),{currentRoute:o,goTo:e}}),[o,t,s]);return D("popstate",(function(){a(M(t))}),[t]),(0,e.createElement)(q.Provider,{value:c},r)};var G=function(){return(0,e.useContext)(q)};const X=function(n){var t=n.tabs,s=G(),r=s.currentRoute,i=s.goTo;return(0,e.createElement)("nav",null,(0,e.createElement)("ul",{className:"subsubsub sensei-extensions__tabs"},t.map((function(n){var t=n.id,s=n.label,o=n.count;return(0,e.createElement)("li",{key:t,className:"sensei-extensions__tabs__tab"},(0,e.createElement)("a",a({href:"#".concat(t,"-extensions"),onClick:function(e){e.preventDefault(),i(t)}},r===t&&{className:"current","aria-current":"page"}),s,(0,e.createElement)("span",{className:"sensei-extensions__tabs__count count"},"(",o,")")))}))))};function Y(e,n){if(null==e)return{};var t,s,r=function(e,n){if(null==e)return{};var t,s,r={},i=Object.keys(e);for(s=0;s<i.length;s++)t=i[s],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}const V=window.wp.primitives;const $=(0,e.createElement)(V.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(V.Path,{d:"M18.3 5.6L9.9 16.9l-4.6-3.4-.9 1.2 5.8 4.3 9.3-12.6z"})),z=window.React;var H;function Z(){return Z=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Z.apply(this,arguments)}const J=function(e){return z.createElement("svg",Z({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),H||(H=z.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m7.622 18.42-.634.433.406.598 2.78 4.102 1.268-.866-1.748-2.579c2.978.999 6.425.147 8.636-2.415 2.449-2.836 2.599-6.863.601-9.763l-1.026 1.188c1.4 2.325 1.203 5.408-.697 7.608-1.861 2.157-4.801 2.822-7.278 1.869l2.029-1.385.64-.438-.81-1.197-.641.438-3.526 2.407ZM16.435 5.996l.634-.433-.405-.598-2.78-4.102-1.27.866 1.75 2.58c-2.979-1-6.426-.148-8.637 2.414-2.449 2.837-2.599 6.863-.601 9.763l1.026-1.188c-1.4-2.325-1.203-5.408.697-7.608 1.861-2.157 4.801-2.822 7.278-1.868l-2.029 1.384-.64.438.81 1.197.641-.438 3.526-2.407Z",fill:"currentColor"})))};var K=function(e){return e.wccom_product_id},ee=["key","children"],ne=s.__;const te=function(t){var s=t.actions;return(0,e.createElement)("ul",{className:"sensei-extensions__extension-actions"},s.map((function(t){var s=t.key,r=t.children,i=Y(t,ee);return(0,e.createElement)("li",{key:s,className:"sensei-extensions__extension-actions__item"},(0,e.createElement)(n.Button,a({isPrimary:!i.href,isLink:!!i.href},i),r))})))};var se=function(e){var n=(0,r.useSelect)((function(e){return{wccom:e(k).getWccomData()}})).wccom,t=(0,r.useDispatch)(k),s=t.installExtension,i=t.updateExtensions;if(!e.product_slug)return null;var o={key:"main-button"};if(T(e.status))o=E({children:ne("In progress…","sensei-lms"),className:"sensei-extensions__rotating-icon",icon:J,disabled:!0},o);else if(e.has_update)o=E({children:ne("Update","sensei-lms"),onClick:function(){return i([e.product_slug])},disabled:!e.can_update},o);else if(e.is_installed)o=E({children:ne("Installed","sensei-lms"),icon:$,disabled:!0},o);else{var a="0"!==e.price?e.price:ne("Free","sensei-lms");o=E({children:"".concat(ne("Install","sensei-lms")," - ").concat(a),onClick:function(){if(e.wccom_product_id){var t=(r=[e],i=n,(0,h.addQueryArgs)("https://woocommerce.com/cart",E({"wccom-replace-with":r.map(K).join(",")},i||{})));return g("extensions_install",{slug:e.product_slug}),void window.open(t)}var r,i;s(e.product_slug)}},o)}var c=[o],l=e.is_installed&&e.has_update?e.changelog_url:e.link;return l&&(c=[].concat(p(c),[{key:"more-details",href:l,target:"_blank",rel:"noreferrer external",children:ne("More details","sensei-lms")}])),c};const re=function(n){var t=n.extension,s=se(t);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"sensei-extensions__update-notification__title"},t.title),(0,e.createElement)("p",{className:"sensei-extensions__update-notification__description"},t.excerpt),(0,e.createElement)(te,{actions:s}))};var ie=s.__;const oe=function(n){var t=n.extensions,r=n.actions;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("ul",{className:"sensei-extensions__update-notification__list"},t.map((function(n){return(0,e.createElement)("li",{key:n.product_slug,className:"sensei-extensions__update-notification__list__item"},n.title," ",n.changelog_url&&(0,e.createElement)("a",{href:n.changelog_url,className:"sensei-extensions__update-notification__version-link",target:"_blank",rel:"noreferrer external"},(0,s.sprintf)(ie("version %s","sensei-lms"),n.version)))}))),(0,e.createElement)(te,{actions:r}))};var ae=s.__,_n=s._n;const ce=function(n){var t=n.updatesCount;return(0,e.createElement)("small",{className:"sensei-extensions__update-badge"},(0,e.createElement)(J,null),1===t?ae("Update available","sensei-lms"):(0,s.sprintf)(_n("%d update available","%d updates available",t,"sensei-lms"),t))};var le=function(n){var t=n.as,s=void 0===t?"div":t,r=n.className,i=n.children;return(0,e.createElement)(s,{className:l()(r,"sensei-extensions__grid")},i)},ue=function(n){var t=n.as,s=void 0===t?"div":t,r=n.className,i=n.cols,o=void 0===i?12:i,a=n.children;return(0,e.createElement)(s,{className:l()(r,"sensei-extensions__grid__col","--col-".concat(o))},a)},me=s.__;const de=function(n){var t=n.extensions.filter((function(e){return e.can_update&&e.has_update})),s=t.length,i=(0,r.useDispatch)(k).updateExtensions;if(0===s)return null;var o={key:"update-button",onClick:function(){i(t.map((function(e){return e.product_slug})))}},a=[o=E(t.some((function(e){return T(e.status)}))?{children:me("Updating…","sensei-lms"),className:"sensei-extensions__rotating-icon",icon:J,disabled:!0}:{children:me("Update all","sensei-lms")},o)];return(0,e.createElement)(ue,{as:"section",className:"sensei-extensions__section",cols:12},(0,e.createElement)("div",{role:"alert",className:"sensei-extensions__update-notification"},(0,e.createElement)(ce,{updatesCount:s}),1===s?(0,e.createElement)(re,{extension:t[0]}):(0,e.createElement)(oe,{extensions:t,actions:a})))};var pe=s.__,_e=s._n;const fe=function(n){var t,r,i=n.extensions,o=n.connected,a=i.filter((function(e){return e.has_update})),c=a.length,l=!(null!==(t=window.sensei_extensions)&&void 0!==t&&t.installUrl),u=!(null!==(r=window.sensei_extensions)&&void 0!==r&&r.activateUrl);if(0===c||l&&u&&o)return null;var m,d="",p=[];if(!o&&l&&u)d=_e("Your site needs to be connected to your WooCommerce.com account before this extension can be updated.","Your site needs to be connected to your WooCommerce.com account before these extensions can be updated.",c,"sensei-lms"),p=[{key:"connect",children:pe("Connect account","sensei-lms"),href:null===(m=window.sensei_extensions)||void 0===m?void 0:m.connectUrl,isLink:!1,isPrimary:!0}];else if(l){if(!u){var _;d=_e("WooCommerce needs to be activated before this extension can be updated.","WooCommerce needs to be activated before these extensions can be updated.",c,"sensei-lms"),p=[{key:"activate",children:pe("Activate WooCommerce","sensei-lms"),href:null===(_=window.sensei_extensions)||void 0===_?void 0:_.activateUrl,isLink:!1,isPrimary:!0}]}}else{var f;d=_e("WooCommerce needs to be installed before this extension can be updated.","WooCommerce needs to be installed before these extensions can be updated.",c,"sensei-lms"),p=[{key:"install",children:pe("Install WooCommerce","sensei-lms"),href:null===(f=window.sensei_extensions)||void 0===f?void 0:f.installUrl,isLink:!1,isPrimary:!0}]}return(0,e.createElement)(ue,{as:"section",className:"sensei-extensions__section",cols:12},(0,e.createElement)("div",{role:"alert",className:"sensei-extensions__update-notification"},(0,e.createElement)(ce,{updatesCount:c}),(0,e.createElement)("h3",{className:"sensei-extensions__update-notification__title"},d),1===c?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"sensei-extensions__update-notification__description"},(0,e.createElement)("span",null,a[0].title," "),(0,e.createElement)("a",{href:a[0].link,className:"sensei-extensions__update-notification__version-link",target:"_blank",rel:"noreferrer external"},(0,s.sprintf)(pe("version %s","sensei-lms"),a[0].version))),(0,e.createElement)(te,{actions:p})):(0,e.createElement)(oe,{extensions:a,actions:p})))};var Ee=s.__;const ve=function(n){var t=n.title,s=n.excerpt,r=n.badgeLabel,i=n.htmlProps,o=n.customActions,c=n.image,u=se(n),m=o||u,d=c&&"url(".concat(c,")");return(0,e.createElement)("article",a({},i,{className:l()("sensei-extensions__card",null==i?void 0:i.className)}),(0,e.createElement)("div",{className:"sensei-extensions__card__image",style:{backgroundImage:d}}),(0,e.createElement)("div",{className:"sensei-extensions__card__content"},(0,e.createElement)("header",{className:"sensei-extensions__card__header"},(0,e.createElement)("h3",{className:"sensei-extensions__card__title"},t),(r||(null==n?void 0:n.has_update))&&(0,e.createElement)("small",{className:"sensei-extensions__card__new-badge"},r||Ee("New version","sensei-lms"))),(0,e.createElement)("div",{className:"sensei-extensions__card__body"},(0,e.createElement)("p",{className:"sensei-extensions__card__description"},s),m&&(0,e.createElement)(te,{actions:m}))))};var xe=function n(t,s){return t.map((function(t){return(0,e.createElement)(ue,{key:t.key,as:"section",className:l()("sensei-extensions__section",{"sensei-extensions__section--with-inner-sections":t.innerSections}),cols:t.columns},t.title&&(0,e.createElement)("h2",{className:"sensei-extensions__section__title"},t.title),t.description&&(0,e.createElement)("p",{className:"sensei-extensions__section__description"},t.description),t.innerSections?(0,e.createElement)(le,null,n(t.innerSections,s)):(0,e.createElement)("ul",{className:l()("sensei-extensions__section__content","sensei-extensions__".concat(t.type))},t.items.map((function(n){var t=n.key,r=n.extensionSlug,i=n.itemProps,o=void 0===i?{}:i,c=n.wrapperProps,u=void 0===c?{}:c,m=n.cardProps,d=void 0===m?{}:m;return(!r||s[r])&&(0,e.createElement)("li",a({},o,{key:t,className:l()("sensei-extensions__list-item",null==o?void 0:o.className)}),(0,e.createElement)("div",a({},u,{className:l()("sensei-extensions__card-wrapper",null==u?void 0:u.className)}),(0,e.createElement)(ve,a({},r?s[r]:{},d))))}))))}))};const ge=function(e){var n=e.layout,t=(0,r.useSelect)((function(e){return{extensions:e(k).getEntities("extensions")}})).extensions;return xe(n,t)};const he=function(n){var t=n.extensions;return(0,e.createElement)(ue,{as:"section",className:"sensei-extensions__section",cols:12},(0,e.createElement)("ul",{className:"sensei-extensions__grid-list"},t.map((function(n){return(0,e.createElement)("li",{key:n.product_slug,className:"sensei-extensions__list-item"},(0,e.createElement)("div",{className:"sensei-extensions__card-wrapper"},(0,e.createElement)(ve,n)))}))))};var ye=s.__;const be=function(){(0,e.useLayoutEffect)((function(){return document.body.classList.add("sensei-color"),function(){return document.body.classList.remove("sensei-color")}}));var t=(0,r.useSelect)((function(e){var n=e(k);return{isExtensionsLoading:!n.hasFinishedResolution("getExtensions"),extensions:n.getExtensions(),connected:n.getConnectionStatus(),layout:n.getLayout(),error:n.getError()}})),s=t.extensions,a=t.connected,c=t.layout,l=t.isExtensionsLoading,u=t.error;if(l)return(0,e.createElement)("div",{className:"sensei-extensions__loader"},(0,e.createElement)(n.Spinner,null));if(0===s.length||0===c.length)return(0,e.createElement)("div",null,ye("No extensions found.","sensei-lms"));var m=s.filter((function(e){return"0"===e.price})),d=s.filter((function(e){return e.is_installed})),p=s.filter((function(e){return e.wccom_product_id})),_=s.filter((function(e){return!e.wccom_product_id})),f=[{id:"all",label:ye("All","sensei-lms"),count:s.length,content:(0,e.createElement)(ge,{layout:c})},{id:"free",label:ye("Free","sensei-lms"),count:m.length,content:(0,e.createElement)(he,{extensions:m})},{id:"installed",label:ye("Installed","sensei-lms"),count:d.length,content:(0,e.createElement)(he,{extensions:d})}],E=(0,o.applyFilters)("senseiExtensionsFeaturedProductHide",!1),v=(0,o.applyFilters)("senseiExtensionsFeaturedProduct",I);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(le,{as:"main",className:"sensei-extensions"},(0,e.createElement)(B,{paramName:"tab",defaultRoute:"all"},(0,e.createElement)(ue,{className:"sensei-extensions__section",cols:12},!E&&(0,e.createElement)(v,null),(0,e.createElement)(A,null),(0,e.createElement)(X,{tabs:f}),null!==u&&(0,e.createElement)(n.Notice,{status:"error",isDismissible:!1},(0,e.createElement)(e.RawHTML,null,u))),(0,e.createElement)(fe,{connected:a,extensions:p}),(0,e.createElement)(de,{extensions:a?s:_}),f.map((function(n){return(0,e.createElement)(Q,{key:n.id,route:n.id},n.content)})))),(0,e.createElement)(i.EditorNotices,null))};(0,e.render)((0,e.createElement)(be,null),document.getElementById("sensei-extensions-page"))})()})();