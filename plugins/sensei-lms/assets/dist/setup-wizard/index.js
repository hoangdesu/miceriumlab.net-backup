(()=>{var e={42:(e,t)=>{var n;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var a=s.apply(null,n);a&&e.push(a)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var o in n)r.call(n,o)&&n[o]&&e.push(o);else e.push(n.toString())}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(n=function(){return s}.apply(t,[]))||(e.exports=n)}()},3743:e=>{"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},7081:e=>{"use strict";e.exports=function(e,t,n,r,s,i,a,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,s,i,a,o],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},5350:(e,t,n)=>{"use strict";var r=n(3743);e.exports=r},9219:(e,t,n)=>{"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=o(n(9196)),i=o(n(349)),a=o(n(8470));function o(e){return e&&e.__esModule?e:{default:e}}var l=void 0;function u(e,t){var n,a,o,c,m,p,f,d,_=[],y={};for(p=0;p<e.length;p++)if("string"!==(m=e[p]).type){if(!t.hasOwnProperty(m.value)||void 0===t[m.value])throw new Error("Invalid interpolation, missing component node: `"+m.value+"`");if("object"!==r(t[m.value]))throw new Error("Invalid interpolation, component node must be a ReactElement or null: `"+m.value+"`","\n> "+l);if("componentClose"===m.type)throw new Error("Missing opening component token: `"+m.value+"`");if("componentOpen"===m.type){n=t[m.value],o=p;break}_.push(t[m.value])}else _.push(m.value);return n&&(c=function(e,t){var n,r,s=t[e],i=0;for(r=e+1;r<t.length;r++)if((n=t[r]).value===s.value){if("componentOpen"===n.type){i++;continue}if("componentClose"===n.type){if(0===i)return r;i--}}throw new Error("Missing closing component token `"+s.value+"`")}(o,e),f=u(e.slice(o+1,c),t),a=s.default.cloneElement(n,{},f),_.push(a),c<e.length-1&&(d=u(e.slice(c+1),t),_=_.concat(d))),1===_.length?_[0]:(_.forEach((function(e,t){e&&(y["interpolation-child-"+t]=e)})),(0,i.default)(y))}t.Z=function(e){var t=e.mixedString,n=e.components,s=e.throwErrors;if(l=t,!n)return t;if("object"!==(void 0===n?"undefined":r(n))){if(s)throw new Error("Interpolation Error: unable to process `"+t+"` because components is not an object");return t}var i=(0,a.default)(t);try{return u(i,n)}catch(o){if(s)throw new Error("Interpolation Error: unable to process `"+t+"` because of error `"+o.message+"`");return t}}},8470:e=>{"use strict";function t(e){return e.match(/^\{\{\//)?{type:"componentClose",value:e.replace(/\W/g,"")}:e.match(/\/\}\}$/)?{type:"componentSelfClosing",value:e.replace(/\W/g,"")}:e.match(/^\{\{/)?{type:"componentOpen",value:e.replace(/\W/g,"")}:{type:"string",value:e}}e.exports=function(e){return e.split(/(\{\{\/?\s*\w+\s*\/?\}\})/g).map(t)}},349:(e,t,n)=>{"use strict";var r=n(9196),s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=n(3743),a=n(7081),o=n(5350),l="function"==typeof Symbol&&Symbol.iterator;function u(e,t){return e&&"object"==typeof e&&null!=e.key?(n=e.key,r={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,(function(e){return r[e]}))):t.toString(36);var n,r}function c(e,t,n,r){var i,o=typeof e;if("undefined"!==o&&"boolean"!==o||(e=null),null===e||"string"===o||"number"===o||"object"===o&&e.$$typeof===s)return n(r,e,""===t?"."+u(e,0):t),1;var m=0,p=""===t?".":t+":";if(Array.isArray(e))for(var f=0;f<e.length;f++)m+=c(i=e[f],p+u(i,f),n,r);else{var d=function(e){var t=e&&(l&&e[l]||e["@@iterator"]);if("function"==typeof t)return t}(e);if(d){0;for(var _,y=d.call(e),v=0;!(_=y.next()).done;)m+=c(i=_.value,p+u(i,v++),n,r)}else if("object"===o){0;var h=""+e;a(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===h?"object with keys {"+Object.keys(e).join(", ")+"}":h,"")}}return m}var m=/\/+/g;function p(e){return(""+e).replace(m,"$&/")}var f,d,_=y,y=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},v=function(e){var t=this;a(e instanceof t,"Trying to release an instance into a pool of a different type."),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)};function h(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function g(e,t,n){var s,a,o=e.result,l=e.keyPrefix,u=e.func,c=e.context,m=u.call(c,t,e.count++);Array.isArray(m)?b(m,o,n,i.thatReturnsArgument):null!=m&&(r.isValidElement(m)&&(s=m,a=l+(!m.key||t&&t.key===m.key?"":p(m.key)+"/")+n,m=r.cloneElement(s,{key:a},void 0!==s.props?s.props.children:void 0)),o.push(m))}function b(e,t,n,r,s){var i="";null!=n&&(i=p(n)+"/");var a=h.getPooled(t,i,r,s);!function(e,t,n){null==e||c(e,"",t,n)}(e,g,a),h.release(a)}h.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},f=function(e,t,n,r){var s=this;if(s.instancePool.length){var i=s.instancePool.pop();return s.call(i,e,t,n,r),i}return new s(e,t,n,r)},(d=h).instancePool=[],d.getPooled=f||_,d.poolSize||(d.poolSize=10),d.release=v;e.exports=function(e){if("object"!=typeof e||!e||Array.isArray(e))return o(!1,"React.addons.createFragment only accepts a single object. Got: %s",e),e;if(r.isValidElement(e))return o(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;a(1!==e.nodeType,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components.");var t=[];for(var n in e)b(e[n],t,n,i.thatReturnsArgument);return t}},9196:e=>{"use strict";e.exports=window.React}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{applyStepData:()=>te,errorFetch:()=>G,errorSubmit:()=>K,fetchFromAPI:()=>$,fetchSetupWizardData:()=>q,setStepData:()=>ee,startFetch:()=>H,startSubmit:()=>Q,submitStep:()=>X,successFetch:()=>V,successSubmit:()=>J});var t={};n.r(t),n.d(t,{getFetchError:()=>at,getNavigationSteps:()=>ct,getStepData:()=>ut,getSubmitError:()=>lt,isCompleteStep:()=>mt,isFetching:()=>it,isSubmitting:()=>ot});var r={};n.r(r),n.d(r,{getStepData:()=>dt});const s=window.wp.element,i=window.wp.data,a=window.wp.components,o=window.wp.i18n;const l=window.wp.url,u=window.wp.apiFetch;var c,m=n.n(u);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function _(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m().use((c={},function(e,t){return"string"!=typeof e.path||"GET"!==e.method&&e.method||(c[e.path]?e.path=(0,l.addQueryArgs)(e.path,{__skip_preload:1}):c[e.path]=!0),t(e)}));var h="/sensei-internal/v1/setup-wizard/",g="FETCH_FROM_API",b="START_FETCH_SETUP_WIZARD_DATA",w="SUCCESS_FETCH_SETUP_WIZARD_DATA",E="ERROR_FETCH_SETUP_WIZARD_DATA",S="START_SUBMIT_SETUP_WIZARD_DATA",k="SUCCESS_SUBMIT_SETUP_WIZARD_DATA",N="ERROR_SUBMIT_SETUP_WIZARD_DATA",C="SET_STEP_DATA",x="APPLY_STEP_DATA";const z=function(){return(0,s.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true",focusable:"false"},(0,s.createElement)("path",{d:"M9 18.6L3.5 13l1-1L9 16.4l9.5-9.9 1 1z",fill:"currentColor"}))};var P,__=o.__,O="installing",T="error",j="installed",R="external",A=(p(P={},O,(0,s.createElement)(s.Fragment,null,(0,s.createElement)(a.Spinner,null),(0,s.createElement)("span",{className:"screen-reader-text"},__("Installing plugin","sensei-lms")))),p(P,T,(0,s.createElement)("i",{className:"sensei-setup-wizard__circle-icon-wrapper error-icon-wrapper alert-icon"},(0,s.createElement)("span",{className:"screen-reader-text"},__("Error installing plugin","sensei-lms")))),p(P,j,(0,s.createElement)("i",{className:"sensei-setup-wizard__circle-icon-wrapper success-icon-wrapper"},(0,s.createElement)(z,null),(0,s.createElement)("span",{className:"screen-reader-text"},__("Plugin installed","sensei-lms")))),p(P,R,(0,s.createElement)(a.Dashicon,{icon:"external"},(0,s.createElement)("span",{className:"screen-reader-text"},__("Purchasing plugin","sensei-lms")))),P);const D=function(e){var t=e.status;return(0,s.createElement)("div",{className:"sensei-setup-wizard__icon-status"},A[t])};var I=function(e){return e.wccom_product_id},F={isFetching:!0,fetchError:!1,isSubmitting:!1,submitError:!1,data:{completedSteps:[],welcome:{usage_tracking:!1},purpose:{selected:[],other:""},features:{selected:[],options:[]},ready:{}}},B=function(e,t){return t.map((function(t){return e.includes(t.slug)?v(v({},t),{},{status:I(t)?R:O,error:null}):t}))};const L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return v(v({},e),{},{isFetching:!0,fetchError:!1});case w:return v(v({},e),{},{isFetching:!1,data:v(v({},e.data),t.data)});case E:return v(v({},e),{},{isFetching:!1,fetchError:t.error});case S:var n=t.stepData,r=t.step,s=null;return"features-installation"===r&&(s=v(v({},e),{},{data:v(v({},e.data),{},{features:v(v({},e.data.features),{},{options:B(n.selected,e.data.features.options)})})})),v(v({},s||e),{},{isSubmitting:!0,submitError:!1});case k:return v(v({},e),{},{isSubmitting:!1,data:v(v({},e.data),{},{completedSteps:[].concat(_(e.data.completedSteps),[t.step])})});case N:return v(v({},e),{},{isSubmitting:!1,submitError:t.error});case C:return v(v({},e),{},{data:v(v({},e.data),{},p({},t.step,v(v({},e.data[t.step]),t.data)))});default:return e}};var M=o.__,W=function(e){return v(v({},e),{},{options:e.options.map((function(e){return v(v({},e),{},{slug:e.product_slug,title:(t=e,r=t.product_slug,s=t.title,i=t.price,n=t.status===j?M("Installed","sensei-lms"):i?"".concat(i," ").concat(M("per year","sensei-lms")):M("Free","sensei-lms"),"".concat(s).concat("woocommerce"===r?"*":""," — ").concat(n)),rawTitle:e.title});var t,n,r,s,i}))})},U=function(e){return v(v({},e),{},{features:W(e.features)})},Y=regeneratorRuntime.mark(q),Z=regeneratorRuntime.mark(X),$=function(e){return{type:g,request:e}};function q(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H();case 2:return t.prev=2,t.next=5,$({path:h.replace(/\/$/,"")});case 5:return e=t.sent,t.next=8,V(U(e));case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(2),t.next=14,G(t.t0);case 14:case"end":return t.stop()}}),Y,null,[[2,10]])}var V=function(e){return{type:w,data:e}},G=function(e){return{type:E,error:e}},H=function(){return{type:b}},Q=function(e,t){return{type:S,step:e,stepData:t}},J=function(e){return{type:k,step:e}},K=function(e){return{type:N,error:e}};function X(e,t){var n,r,s,i=arguments;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:{},r=n.onSuccess,s=n.onError,a.next=3,Q(e,t);case 3:return a.prev=3,a.next=6,$({path:h+e,method:"POST",data:t});case 6:return a.next=8,J(e);case 8:return a.next=10,te(e,t);case 10:return a.next=12,ee(e,t);case 12:r&&r(),a.next=20;break;case 15:return a.prev=15,a.t0=a.catch(3),a.next=19,K(a.t0);case 19:s&&s(a.t0);case 20:case"end":return a.stop()}}),Z,null,[[3,15]])}var ee=function(e,t){return{type:C,step:e,data:t}},te=function(e,t){return{type:x,step:e,data:t}};function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],_n=!0,r=!1,s=void 0;try{for(var i,a=e[Symbol.iterator]();!(_n=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);_n=!0);}catch(o){r=!0,s=o}finally{try{_n||null==a.return||a.return()}finally{if(r)throw s}}return n}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var re=n(9219),se=o.__,ie=function(e){var t=e.tracking,n=e.onContinue,r=e.onClose,i=e.isSubmitting,o=e.children,l=(0,re.Z)({mixedString:se("Get improved features and faster fixes by sharing non-sensitive data via {{link}}usage tracking{{/link}} that shows us how Sensei LMS is used. No personal data is tracked or stored.","sensei-lms"),components:{link:(0,s.createElement)("a",{href:"https://senseilms.com/documentation/what-data-does-sensei-track/",className:"link__color-secondary",target:"_blank",rel:"noreferrer",type:"external"})}}),u=ne((0,s.useState)(!1),2),c=u[0],m=u[1];return(0,s.useEffect)((function(){return m(t)}),[t]),(0,s.createElement)(a.Modal,{title:se("Build a Better Sensei LMS","sensei-lms"),onRequestClose:r,className:"sensei-setup-wizard__usage-modal"},(0,s.createElement)("div",{className:"sensei-setup-wizard__usage-wrapper"},(0,s.createElement)("div",{className:"sensei-setup-wizard__usage-modal-message"},l),(0,s.createElement)("div",{className:"sensei-setup-wizard__tracking"},(0,s.createElement)(a.CheckboxControl,{className:"sensei-setup-wizard__tracking-checkbox",checked:c,label:se("Yes, count me in!","sensei-lms"),onChange:function(){return m(!c)}})),o,(0,s.createElement)(a.Button,{className:"sensei-setup-wizard__button sensei-setup-wizard__button-modal",isPrimary:!0,isBusy:i,disabled:i,onClick:function(){return n(c)}},se("Continue","sensei-lms"))))};const ae=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window,i=(0,s.useCallback)(t,n);(0,s.useEffect)((function(){var t=[e,i,!1];return r.addEventListener.apply(r,t),function(){r.removeEventListener.apply(r,t)}}),[e,i,r])};var oe=function(e,t){var n,r;e?(n=document.body.classList).add.apply(n,_(t)):(r=document.body.classList).remove.apply(r,_(t));document.documentElement.classList.toggle("wp-toolbar",!e)};const le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,s.useLayoutEffect)((function(){var t=[].concat(_(e),["sensei-wp-admin-fullscreen"]);return oe(!0,t),function(){oe(!1,t)}}),[e])};var ue=function(e){return new URLSearchParams(window.location.search).get(e)||null},ce=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=window.location.search,s=n?"replaceState":"pushState",i=new URLSearchParams(r);null===t?i.delete(e):i.set(e,t),window.history[s]({},"","?".concat(i.toString()))};const me=function(e){var t=e.route,n=e.children;return de().currentRoute===t?n:null};var pe=(0,s.createContext)();const fe=function(e){var t=e.paramName,n=e.defaultRoute,r=e.children,i=ne((0,s.useState)(ue(t)),2),a=i[0],o=i[1],l=(0,s.useMemo)((function(){var e=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ce(t,e,n),o(e)};return a||e(n,!0),{currentRoute:a,goTo:e}}),[a,t,n]);return ae("popstate",(function(){o(ue(t))}),[t]),(0,s.createElement)(pe.Provider,{value:l},r)};var de=function(){return(0,s.useContext)(pe)},_e=function(e){var t=(0,i.useSelect)((function(t){return{stepData:t("sensei/setup-wizard").getStepData(e),isSubmitting:t("sensei/setup-wizard").isSubmitting(),error:t("sensei/setup-wizard").getSubmitError(),isComplete:t("sensei/setup-wizard").isCompleteStep(e)}}),[]),n=t.stepData,r=t.isSubmitting,o=t.error,l=t.isComplete,u=(0,i.useDispatch)("sensei/setup-wizard").submitStep,c=o?(0,s.createElement)(a.Notice,{status:"error",className:"sensei-setup-wizard__submit-error",isDismissible:!1},o.message):null;return{stepData:n,submitStep:(0,s.useCallback)((function(t,n){return u(e,t,n)}),[e,u]),isSubmitting:r,error:o,errorNotice:c,isComplete:l}};function ye(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var ve=["component","children"],he=(0,s.createContext)(2);function ge(e){return(0,s.createElement)(he.Consumer,null,(function(t){var n="h"+Math.min(t,6);return(0,s.createElement)(n,e)}))}function be(e){var t=e.component,n=e.children,r=ye(e,ve),i=t||"div";return(0,s.createElement)(he.Consumer,null,(function(e){return(0,s.createElement)(he.Provider,{value:e+1},!1===t?n:(0,s.createElement)(i,r,n))}))}var we=o.__,Ee=o.__,Se=[{id:"share_knowledge",title:Ee("Share your knowledge","sensei-lms"),description:Ee("You are a hobbyist interested in sharing your knowledge.","sensei-lms")},{id:"generate_income",title:Ee("Generate income","sensei-lms"),description:Ee("You would like to generate additional income for yourself or your business.","sensei-lms")},{id:"promote_business",title:Ee("Promote your business","sensei-lms"),description:Ee("You own a business and would like to use online courses to promote it.","sensei-lms")},{id:"provide_certification",title:Ee("Provide certification training","sensei-lms"),description:Ee("You want to help people become certified professionals.","sensei-lms")},{id:"train_employees",title:Ee("Train employees","sensei-lms"),description:Ee("You work at a company that regularly trains new or existing employees.","sensei-lms")},{id:"educate_students",title:Ee("Educate students","sensei-lms"),description:Ee("You are an educator who would like to create an online classroom.","sensei-lms")},{id:"other",title:Ee("Other","sensei-lms")}];const ke=window.lodash;var Ne=function(e,t){window.sensei_log_event(e,t)};Ne.enable=function(e){window.sensei_event_logging.enabled=e};var Ce=function(e,t){return{onClick:function(){return Ne(e,t)},onAuxClick:function(n){return function(e){return 1===e.button}(n)&&Ne(e,t)}}},xe=o.__,ze=function(e,t){if("woocommerce"!==e||!t)return null;var n=t.filter(I).map((function(e){return e.rawTitle})).join(xe(" and ","sensei-lms"));return(0,o.sprintf)(xe("* WooCommerce is required to receive updates for %1$s.","sensei-lms"),n)};function Pe(){return Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}var Oe=o.__;const Te=function(e){var t=e.slug,n=e.excerpt,r=e.link,i=e.observation;return(0,s.createElement)(s.Fragment,null,n,r&&(0,s.createElement)(s.Fragment,null," ",(0,s.createElement)("a",Pe({className:"sensei-setup-wizard__learn-more link__color-primary",href:r,target:"_blank",rel:"noopener noreferrer"},Ce("setup_wizard_features_learn_more",{slug:t})),Oe("Learn more","sensei-lms"))),i&&(0,s.createElement)("em",{className:"sensei-setup-wizard__feature-observation"},i))};var je=n(42),Re=n.n(je);const Ae=window.wp.keycodes;function De(e){var t=e.href,n=e.linkType;return n||(t?"external":null)}const Ie=function(e){var t=e.item,n=t.before,r=t.title,i=t.after,a=t.content,o=t.onClick,l=t.href,u=t.target,c=t.listItemTag,m="function"==typeof o||l,p=l?"a":"div",f={className:"sensei-list__item-inner",onClick:"function"==typeof o?o:null,"aria-disabled":m?"false":null,tabIndex:m?"0":null,role:m?"menuitem":null,onKeyDown:function(e){return m?function(e,t){"function"==typeof t&&e.keyCode===Ae.ENTER&&t()}(e,o):null},target:l?u:null,type:De(t),href:l,"data-list-item-tag":c};return(0,s.createElement)(p,f,n&&(0,s.createElement)("div",{className:"sensei-list__item-before"},n),(0,s.createElement)("div",{className:"sensei-list__item-text"},(0,s.createElement)("span",{className:"sensei-list__item-title"},r),a&&(0,s.createElement)("span",{className:"sensei-list__item-content"},a)),i&&(0,s.createElement)("div",{className:"sensei-list__item-after"},i))};const Fe=function(e){var t=e.className,n=e.items,r=e.children,i=Re()("sensei-list",t);return(0,s.createElement)("ul",{className:i,role:"menu"},n.map((function(e,t){var n=e.className,i=e.href,a=e.key,o="function"==typeof e.onClick||i,l=Re()("sensei-list__item",n,{"has-action":o});return(0,s.createElement)("li",{key:a||t,className:l},r?r(e,t):(0,s.createElement)(Ie,{item:e}))})))};var Be=o.__;const Le=function(e){var t=e.features,n=void 0===t?[]:t,r=e.isSubmitting,i=e.errorNotice,o=e.onInstall,l=e.onSkip;return(0,s.createElement)(a.Modal,{className:"sensei-setup-wizard__features-confirmation-modal",title:Be("Would you like to install the following features now?","sensei-lms"),isDismissible:!1},(0,s.createElement)(Fe,{items:n.map((function(e){var t=e.slug,r=e.title,i=e.excerpt;return{title:r,content:(0,s.createElement)(Te,{slug:t,excerpt:i,observation:ze(t,n)})}}))}),(0,s.createElement)("div",{className:"sensei-setup-wizard__modal-footer"},(0,s.createElement)("p",null,Be("You won't have access to this functionality until the extensions have been installed.","sensei-lms")),n.some(I)&&(0,s.createElement)("p",null,(0,s.createElement)("strong",null,Be("WooCommerce.com will open in a new tab so that you can complete the purchase process.","sensei-lms"))),i,(0,s.createElement)("div",{className:"sensei-setup-wizard__group-buttons group-right"},(0,s.createElement)(a.Button,{className:"sensei-setup-wizard__button",isTertiary:!0,isBusy:r,disabled:r,onClick:l},Be("I'll do it later","sensei-lms")),(0,s.createElement)(a.Button,{className:"sensei-setup-wizard__button",isPrimary:!0,isBusy:r,disabled:r,onClick:o},Be("Install now","sensei-lms")))))};const Me=function(e){var t=ne((0,s.useState)(0),2),n=t[0],r=t[1],a=(0,i.useSelect)((function(e){return e("sensei/setup-wizard").getStepData("features",!0)}),[n]),o=(0,i.useDispatch)("sensei/setup-wizard").invalidateResolution;return(0,s.useEffect)((function(){if(e){var t=setTimeout((function(){o("getStepData",["features",!0]),r((function(e){return e+1}))}),2e3);return function(){clearTimeout(t)}}}),[n,e,o]),a};var We=o.__;const Ue=function(e){var t,n=e.onContinue,r=e.onRetry,i=ne((0,s.useState)(!0),2),o=i[0],l=i[1],u=ne((0,s.useState)(!0),2),c=u[0],m=u[1],p=ne((0,s.useState)(!1),2),f=p[0],d=p[1],_=Me(c),y=_.options.filter((function(e){return _.selected.includes(e.slug)}));if((0,s.useEffect)((function(){l(y.some((function(e){return e.status===O}))),m(y.some((function(e){return[O,R].includes(e.status)}))),d(y.some((function(e){return e.status===T})))}),[y]),o)t=(0,s.createElement)(a.Button,{isPrimary:!0,isBusy:!0,disabled:!0,className:"sensei-setup-wizard__button"},We("Installing…","sensei-lms"));else if(f){t=(0,s.createElement)(s.Fragment,null,(0,s.createElement)(a.Button,{isPrimary:!0,className:"sensei-setup-wizard__button",onClick:function(){r(y.filter((function(e){return e.status===T})).map((function(e){return e.slug})))}},We("Retry","sensei-lms")),(0,s.createElement)(a.Button,{isSecondary:!0,className:"sensei-setup-wizard__button",onClick:n},We("Continue","sensei-lms")))}else t=(0,s.createElement)(a.Button,{isPrimary:!0,className:"sensei-setup-wizard__button",onClick:n},We("Continue","sensei-lms"));return(0,s.createElement)("div",{className:"sensei-setup-wizard__features-installation-feedback"},(0,s.createElement)(Fe,{items:y.map((function(e){var t=e.slug,n=e.title,i=e.excerpt,a=e.link,o=e.error,l=e.status;return{title:n,content:(0,s.createElement)(s.Fragment,null,(0,s.createElement)(Te,{slug:t,excerpt:i,link:a,observation:ze(t,y)}),o&&(0,s.createElement)("p",{className:"sensei-setup-wizard__error-message"},o," ",(0,s.createElement)("button",{className:"sensei-setup-wizard__retry-button",type:"button",onClick:function(){return r([t])}},We("Retry?","sensei-lms")))),before:(0,s.createElement)(D,{status:l})}}))}),(0,s.createElement)("div",{className:"sensei-setup-wizard__group-buttons group-center"},t))};var Ye=o.__;const Ze=function(e){var t=e.features,n=e.isSubmitting,r=e.errorNotice,i=e.selectedSlugs,o=e.onChange,l=e.onContinue,u=function(e){return function(t){o(_(t?[e].concat(_(i)):i.filter((function(t){return t!==e}))))}};return(0,s.createElement)(s.Fragment,null,(0,s.createElement)("div",{className:"sensei-setup-wizard__checkbox-list"},(!t||0===t.length)&&(0,s.createElement)(a.Notice,{status:"error",isDismissible:!1},Ye("No features found.","sensei-lms")),t.filter((function(e){return!e.unselectable})).map((function(e){var t=e.slug,n=e.title,r=e.excerpt,o=e.link,l=e.status;return(0,s.createElement)(a.CheckboxControl,{key:t,label:n,help:(0,s.createElement)(Te,{slug:t,excerpt:r,link:o}),onChange:u(t),checked:i.includes(t),disabled:["installed","installing","error"].includes(l),className:Re()("sensei-setup-wizard__checkbox",p({},"status-".concat(l),l))})}))),r,(0,s.createElement)(a.Button,{isPrimary:!0,isBusy:n,disabled:n,className:"sensei-setup-wizard__button sensei-setup-wizard__button-card",onClick:l},Ye("Continue","sensei-lms")))};var $e=o.__,qe="woocommerce";const Ve=function(){var e=ne((0,s.useState)(!1),2),t=e[0],n=e[1],r=ne((0,s.useState)(!1),2),i=r[0],o=r[1],u=ne((0,s.useState)([]),2),c=u[0],m=u[1],p=de().goTo,f=_e("features"),d=f.stepData,y=f.submitStep,h=f.isSubmitting,g=f.errorNotice,b=d.options,w=d.selected,E=_e("features-installation").submitStep;(0,s.useEffect)((function(){m((function(e){return(0,ke.uniq)([].concat(_(e),_(function(e,t){return e.filter((function(e){var n=t.find((function(t){return t.slug===e}));return!!n&&j!==n.status}))}(w,b))))}))}),[w,b]);var S=(0,s.useCallback)((function(){return b.filter((function(e){return c.includes(e.slug)}))}),[b,c]),k=(0,s.useCallback)((function(){var e=b.find((function(e){return qe===e.slug}));return e&&j===e.status}),[b]);(0,s.useEffect)((function(){var e=S(),t=e.some((function(e){return e.slug===qe})),n=e.some(I);n||!t?!n||t||k()||m((function(e){return[].concat(_(e),[qe])})):m((function(e){return e.filter((function(e){return e!==qe}))}))}),[S,k]);var N=function(){E({selected:c},{onSuccess:function(){n(!1),o(!0)}})},C=function(){var e=S().filter((function(e){return I(e)&&j!==e.status}));if(e.length){var t=function(e,t){return(0,l.addQueryArgs)("https://woocommerce.com/cart",v({"wccom-replace-with":e.map(I).join(",")},t||{}))}(e,d.wccom);window.open(t)}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];p("ready");var t=!0===e?"setup_wizard_features_install_cancel":"setup_wizard_features_continue";Ne(t,{slug:c.join(",")})};return(0,s.createElement)(s.Fragment,null,(0,s.createElement)("div",{className:"sensei-setup-wizard__title"},(0,s.createElement)(ge,null,$e("Enhance your online courses with these optional features.","sensei-lms"))),(0,s.createElement)(a.Card,{className:"sensei-setup-wizard__card",isElevated:!0},(0,s.createElement)(a.CardBody,null,i?(0,s.createElement)(Ue,{onContinue:x,onRetry:function(e){E({selected:e}),Ne("setup_wizard_features_install_retry",{slug:e.join(",")})}}):(0,s.createElement)(Ze,{features:b,isSubmitting:h,errorNotice:g,selectedSlugs:c,onChange:m,onContinue:function(){y({selected:c},{onSuccess:function(){n(!0),0===c.length&&x()}})}}))),t&&(0,s.createElement)(Le,{features:S(),isSubmitting:h,errorNotice:g,onInstall:function(){Ne("setup_wizard_features_install",{slug:c.join(",")}),N(),C()},onSkip:function(){return x(!0)}}))};var Ge=o.__,He=function(){var e=_e("ready").stepData;return(0,s.createElement)("form",{action:e.mc_url,method:"post",target:"_blank",className:"sensei-setup-wizard__mailinglist-signup-form"},(0,s.createElement)("input",{type:"hidden",name:"gdpr[".concat(e.gdpr_field,"]"),value:"Y"}),(0,s.createElement)(Fe,{className:"sensei-setup-wizard__item-list",items:[{title:"",content:(0,s.createElement)(a.TextControl,{type:"email",name:"EMAIL",defaultValue:e.admin_email}),after:(0,s.createElement)(a.Button,Pe({className:"sensei-setup-wizard__button",isPrimary:!0,type:"submit"},Ce("setup_wizard_ready_mailing_list")),Ge("Yes, please!","sensei-lms"))}]}))},Qe={em:(0,s.createElement)("em",null),strong:(0,s.createElement)("strong",null),code:(0,s.createElement)("code",null),small:(0,s.createElement)("small",null),sub:(0,s.createElement)("sub",null),sup:(0,s.createElement)("sup",null),br:(0,s.createElement)("br",null),p:(0,s.createElement)("p",null),del:(0,s.createElement)("del",null)},Je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,re.Z)({mixedString:e,components:v(v({},Qe),t)})},Ke="/sensei-internal/v1/import/",Xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[].concat(_(e?[e]:[]),_(t||[])).join("/");return Ke+n};const et=function(){var e=ne((0,s.useState)(!1),2),t=e[0],n=e[1],r=ne((0,s.useState)(null),2),i=r[0],a=r[1],o=ne((0,s.useState)(null),2),l=o[0],u=o[1],c=ne((0,s.useState)(0),2),p=c[0],f=c[1],d=function(e){n(!1),a(e.message),u(null)};(0,s.useEffect)((function(){l&&m()({path:Xe(l,["process"]),method:"POST"}).then((function(e){if("completed"!==e.status.status)f((function(e){return e+1}));else{var t=window.sensei_setup_wizard.nonce;window.location.assign("?redirect_imported_sample=1&job_id=".concat(l,"&nonce=").concat(t))}})).catch(d)}),[l,p]);return[function(){n(!0),a(null),m()({path:Xe(null,["start-sample"]),method:"POST"}).then((function(e){u(e.id)})).catch(d),Ne("setup_wizard_ready_install_course")},t,i]};var tt,nt=o.__,rt=o.__,st=[{key:"welcome",container:(0,s.createElement)((function(){var e=ne((0,s.useState)(!1),2),t=e[0],n=e[1],r=de().goTo,i=_e("welcome"),o=i.stepData,l=i.submitStep,u=i.isSubmitting,c=i.errorNotice,m=function(){n(!1),r("purpose")};return(0,s.createElement)(s.Fragment,null,(0,s.createElement)("div",{className:"sensei-setup-wizard__title"},(0,s.createElement)(ge,null," ",we("Welcome to Sensei LMS!","sensei-lms")," ")),(0,s.createElement)(a.Card,{className:"sensei-setup-wizard__card",isElevated:!0},(0,s.createElement)(a.CardBody,null,(0,s.createElement)("p",null,we("Thank you for choosing Sensei LMS!","sensei-lms")),(0,s.createElement)("p",null,we("This setup wizard will help you get started creating online courses more quickly. It is optional and should take only a few minutes.","sensei-lms")),(0,s.createElement)(a.Button,{isPrimary:!0,className:"sensei-setup-wizard__button sensei-setup-wizard__button-card",onClick:function(){return n(!0)}},we("Continue","sensei-lms")))),(0,s.createElement)("div",{className:"sensei-setup-wizard__bottom-actions"},(0,s.createElement)("a",{href:"edit.php?post_type=course",type:"wp-admin",className:"link__color-secondary"},we("Not right now","sensei-lms"))),t&&(0,s.createElement)(ie,{tracking:o.usage_tracking,isSubmitting:u,onClose:function(){return n(!1)},onContinue:function(e){l({usage_tracking:e},{onSuccess:m})}},c))}),null),label:rt("Welcome","sensei-lms")},{key:"purpose",container:(0,s.createElement)((function(){var e=de().goTo,t=_e("purpose"),n=t.stepData,r=t.submitStep,i=t.isSubmitting,o=t.errorNotice,l=ne((0,s.useState)({selected:[],other:""}),2),u=l[0],c=u.selected,m=u.other,p=l[1];(0,s.useEffect)((function(){return p(n)}),[n]);var f=!c.length,d=function(){e("features")};return(0,s.createElement)(s.Fragment,null,(0,s.createElement)("div",{className:"sensei-setup-wizard__title"},(0,s.createElement)(ge,null,Ee("What is your primary purpose for offering online courses?","sensei-lms")),(0,s.createElement)("p",null," ",Ee("Choose any that apply","sensei-lms")," ")),(0,s.createElement)(a.Card,{className:"sensei-setup-wizard__card",isElevated:!0},(0,s.createElement)(a.CardBody,null,(0,s.createElement)("div",{className:"sensei-setup-wizard__checkbox-list"},Se.map((function(e){var t=e.id,n=e.title,r=e.description;return(0,s.createElement)(a.CheckboxControl,{key:t,label:n,help:r,onChange:function(){return function(e){p((function(t){return v(v({},t),{},{selected:c.includes(e)?c.filter((function(t){return t!==e})):[e].concat(_(c))})}))}(t)},checked:c.includes(t),className:"sensei-setup-wizard__checkbox"})})),c.includes("other")&&(0,s.createElement)(a.TextControl,{className:"sensei-setup-wizard__textcontrol-other",value:m,placeholder:Ee("Description","sensei-lms"),onChange:function(e){return p((function(t){return v(v({},t),{},{other:e})}))}})),o,(0,s.createElement)(a.Button,{isPrimary:!0,isBusy:i,disabled:i||f,className:"sensei-setup-wizard__button sensei-setup-wizard__button-card",onClick:function(){r({selected:c,other:m},{onSuccess:d})}},Ee("Continue","sensei-lms")))))}),null),label:rt("Purpose","sensei-lms")},{key:"features",container:(0,s.createElement)(Ve,null),label:rt("Features","sensei-lms")},{key:"ready",container:(0,s.createElement)((function(){var e=_e("ready"),t=e.submitStep,n=e.isComplete;(0,s.useEffect)((function(){n||t()}),[n,t]);var r=ne(et(),3),i=r[0],o=r[1],l=r[2];return(0,s.createElement)(s.Fragment,null,(0,s.createElement)("div",{className:"sensei-setup-wizard__title"},(0,s.createElement)(ge,null,nt("You're ready to start creating online courses!","sensei-lms"))),(0,s.createElement)(a.Card,{className:"sensei-setup-wizard__card",isElevated:!0},(0,s.createElement)(a.CardBody,null,(0,s.createElement)(be,{className:"sensei-setup-wizard__mailinglist-signup"},(0,s.createElement)(ge,null,nt("Join our mailing list","sensei-lms")),(0,s.createElement)("p",null,nt("We're here for you — get tips, product updates, and inspiration straight to your mailbox.","sensei-lms")),(0,s.createElement)(He,null)),(0,s.createElement)(be,null,(0,s.createElement)(ge,null,nt("What's next?","sensei-lms")),(0,s.createElement)(Fe,{items:[{title:nt("Create some courses","sensei-lms"),content:nt("You're ready to create online courses.","sensei-lms"),after:(0,s.createElement)(a.Button,Pe({className:"sensei-setup-wizard__button",isPrimary:!0,href:"post-new.php?post_type=course"},Ce("setup_wizard_ready_create_course")),nt("Create a course","sensei-lms"))},{title:nt("Import content","sensei-lms"),content:nt("Transfer existing content to your site — just import a CSV file.","sensei-lms"),after:(0,s.createElement)(a.Button,Pe({className:"sensei-setup-wizard__button",isSecondary:!0,href:"edit.php?post_type=course&page=sensei-tools&tool=import-content"},Ce("setup_wizard_ready_import")),nt("Import content","sensei-lms"))},{title:nt("Install a sample course","sensei-lms"),content:Je(nt("Install the {{em}}Getting Started with Sensei LMS{{/em}} course.","sensei-lms")),after:(0,s.createElement)("div",null,(0,s.createElement)(a.Button,{className:"sensei-setup-wizard__button",isSecondary:!0,onClick:i,isBusy:o,disabled:o},nt("Install a sample course","sensei-lms")),l&&(0,s.createElement)("div",{className:"sensei-setup-wizard__error-message"},nt("The sample course could not be imported. Please try again.","sensei-lms")))},{title:"Learn more",content:Je(nt("Visit SenseiLMS.com to learn how to {{link}}create your first course.{{/link}}","sensei-lms"),{link:(0,s.createElement)("a",Pe({className:"link__color-primary",href:"https://senseilms.com/lesson/courses/",target:"_blank",rel:"noopener noreferrer"},Ce("setup_wizard_ready_learn_more")))})}],className:"sensei-setup-wizard__item-list"})))),(0,s.createElement)("div",{className:"sensei-setup-wizard__bottom-actions"},(0,s.createElement)("a",Pe({className:"link__color-secondary",href:"edit.php?post_type=course"},Ce("setup_wizard_ready_exit")),nt("Exit to Courses","sensei-lms"))))}),null),label:rt("Ready","sensei-lms")}],it=function(e){return e.isFetching},at=function(e){return e.fetchError},ot=function(e){return e.isSubmitting},lt=function(e){return e.submitError},ut=function(e,t){return e.data[t]},ct=function(e){var t=e.data.completedSteps,n=st.map((function(e){return v(v({},e),{},{isComplete:t.includes(e.key),isNext:!1})}));return(n.find((function(e){return!e.isComplete}))||n[0]).isNext=!0,n},mt=function(e,t){return e.data.completedSteps.includes(t)};const pt=(p(tt={},g,(function(e){var t=e.request;return m()(t)})),p(tt,x,(function(e){var t=e.step,n=e.data;if("welcome"===t)Ne.enable(n.usage_tracking)})),tt);var ft=regeneratorRuntime.mark(dt);function dt(e,t){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,$({path:h+e});case 4:return n=r.sent,r.abrupt("return",ee(e,W(n)));case 6:case"end":return r.stop()}}),ft)}const _t=function(){(0,i.registerStore)("sensei/setup-wizard",{reducer:L,actions:e,selectors:t,controls:pt,resolvers:r})};function yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e,t){return ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ht(e,t)}function gt(e){return gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gt(e)}function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function wt(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gt(e);if(t){var s=gt(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return wt(this,n)}}const St=function(){return(0,s.createElement)("svg",{role:"img","aria-hidden":"true",focusable:"false",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.createElement)("mask",{id:"mask0","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"2",y:"3",width:"14",height:"12"},(0,s.createElement)("path",{d:"M6.59631 11.9062L3.46881 8.77875L2.40381 9.83625L6.59631 14.0287L15.5963 5.02875L14.5388 3.97125L6.59631 11.9062Z",fill:"white"})),(0,s.createElement)("g",{mask:"url(#mask0)"},(0,s.createElement)("rect",{width:"18",height:"18",fill:"white"})))};var kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(o,e);var t,n,r,i=Et(o);function o(){return yt(this,o),i.apply(this,arguments)}return t=o,n=[{key:"renderCurrentStepContent",value:function(){var e=this.props,t=e.currentStep,n=e.steps.find((function(e){return t===e.key}));return n.content?(0,s.createElement)("div",{className:"sensei-stepper_content"},n.content):null}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.currentStep,r=e.steps,i=e.isPending,o=r.findIndex((function(e){return n===e.key})),l=Re()("sensei-stepper",t);return(0,s.createElement)("div",{className:l},(0,s.createElement)("div",{className:"sensei-stepper__steps"},r.map((function(e,t){var r=e.key,l=e.label,u=e.description,c=e.isComplete,m=e.onClick,p=r===n,f=Re()("sensei-stepper__step",{"is-active":p,"is-complete":void 0!==c?c:o>t}),d=p&&i?(0,s.createElement)(a.Spinner,null):(0,s.createElement)("div",{className:"sensei-stepper__step-icon"},(0,s.createElement)("span",{className:"sensei-stepper__step-number"},t+1),(0,s.createElement)(St,null)),_="function"==typeof m?"button":"div";return(0,s.createElement)(s.Fragment,{key:r},(0,s.createElement)("div",{className:f},(0,s.createElement)(_,{className:"sensei-stepper__step-label-wrapper",onClick:"function"==typeof m?function(){return m(r)}:null},d,(0,s.createElement)("div",{className:"sensei-stepper__step-text"},(0,s.createElement)("span",{className:"sensei-stepper__step-label"},l),u&&(0,s.createElement)("span",{className:"sensei-stepper__step-description"},u)))),(0,s.createElement)("div",{className:"sensei-stepper__step-divider"}))}))),this.renderCurrentStepContent())}}],n&&vt(t.prototype,n),r&&vt(t,r),o}(s.Component);const Nt=kt;const Ct=function(e){var t=e.steps,n=de(),r=n.currentRoute;return t=function(e,t){var n=t.goTo;return e.map((function(e){return v(v({},e),{},{onClick:e.isComplete||e.isNext?function(){return n(e.key)}:void 0})}))}(t,{goTo:n.goTo}),(0,s.createElement)(Nt,{steps:t,currentStep:r})};var xt=o.__;_t();(0,s.render)((0,s.createElement)((function(){le(["sensei-setup-wizard__page"]),(0,s.useLayoutEffect)((function(){return document.body.classList.add("sensei-color"),function(){return document.body.classList.remove("sensei-color")}}));var e=(0,i.useSelect)((function(e){var t=e("sensei/setup-wizard");return{isFetching:t.isFetching(),error:t.getFetchError(),navigationSteps:t.getNavigationSteps()}}),[]),t=e.isFetching,n=e.error,r=e.navigationSteps,o=(0,i.useDispatch)("sensei/setup-wizard").fetchSetupWizardData;return(0,s.useLayoutEffect)((function(){o()}),[o]),t?(0,s.createElement)(a.Spinner,{className:"sensei-setup-wizard__main-loader"}):n?(0,s.createElement)(a.Notice,{status:"error",isDismissible:!1},xt("An error has occurred while fetching the data. Please try again later!","sensei-lms"),(0,s.createElement)("br",null),xt("Error details:","sensei-lms")," ",n.message):(0,s.createElement)(fe,{paramName:"step",defaultRoute:r.find((function(e){return e.isNext})).key},(0,s.createElement)("div",{className:"sensei-setup-wizard__header"},(0,s.createElement)(Ct,{steps:r})),(0,s.createElement)("div",{className:"sensei-setup-wizard__container"},r.map((function(e){return(0,s.createElement)(me,{key:e.key,route:e.key},e.container)}))))}),null),document.getElementById("sensei-setup-wizard-page"))})()})();